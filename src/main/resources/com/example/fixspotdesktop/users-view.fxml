<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.example.fixspotdesktop.ui.UsersController"
      spacing="16"
      prefWidth="980"
      prefHeight="600"
      styleClass="users-root">

    <!-- Barra superior: título + botones de acción -->
    <HBox spacing="12" alignment="CENTER_LEFT" styleClass="toolbar">
        <children>
            <VBox spacing="2">
                <Label text="Administración de usuarios" styleClass="toolbar-title"/>
                <Label text="Crea, edita y gestiona las cuentas de Fixspot Admin."
                       styleClass="toolbar-subtitle"/>
            </VBox>

            <Region HBox.hgrow="ALWAYS"/>

            <Button fx:id="btnCreate"
                    text="Crear usuario"
                    styleClass="primary-btn-2"
                    onAction="#onOpenCreate"/>

            <Button fx:id="btnLogout"
                    text="Cerrar sesión"
                    styleClass="back-btn"
                    onAction="#onLogout"/>
        </children>
        <padding>
            <Insets top="10" right="16" bottom="10" left="16"/>
        </padding>
    </HBox>

    <!-- Contenedor tabla -->
    <VBox VBox.vgrow="ALWAYS" spacing="10">
        <padding>
            <Insets top="0" right="16" bottom="16" left="16"/>
        </padding>

        <!-- Tabla principal -->
        <TableView fx:id="tbl"
                   VBox.vgrow="ALWAYS"
                   styleClass="users-table">
            <columns>
                <TableColumn fx:id="colId"       text="ID"                 prefWidth="60"/>
                <TableColumn fx:id="colRun"      text="Run"                prefWidth="120"/>
                <TableColumn fx:id="colUsername" text="Nombre de usuario"  prefWidth="160"/>
                <TableColumn fx:id="colNombre"   text="Primer nombre"      prefWidth="140"/>
                <TableColumn fx:id="colApPaterno" text="Apellido paterno"  prefWidth="140"/>
                <TableColumn fx:id="colCorreo"   text="Correo"             prefWidth="220"/>
                <TableColumn fx:id="colDir"      text="Dirección"          prefWidth="200"/>
                <TableColumn fx:id="colComuna"   text="Comuna"             prefWidth="140"/>
                <TableColumn fx:id="colRol"      text="Rol"                prefWidth="120"/>
                <TableColumn fx:id="colAcciones" text="Acciones"           prefWidth="180"/>
            </columns>
        </TableView>

        <!-- Barra inferior -->
        <HBox spacing="12" alignment="CENTER_RIGHT">
            <children>
                <Button fx:id="btnBack"
                        text="Volver al menú"
                        styleClass="ghost-btn"
                        onAction="#onBack"/>
            </children>
            <padding>
                <Insets top="6" right="0" bottom="0" left="0"/>
            </padding>
        </HBox>
    </VBox>
</VBox>
