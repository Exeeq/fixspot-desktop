<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.geometry.Orientation?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<SplitPane xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:id="rootSplit"
           fx:controller="com.example.fixspotdesktop.ui.HomeController"
           orientation="HORIZONTAL"
           dividerPositions="0.60"
           prefWidth="1200" prefHeight="720"
           styleClass="home-root">

    <items>
        <!-- PANEL IZQUIERDO: contenido principal -->
        <StackPane styleClass="home-left">
            <children>
                <VBox spacing="24" alignment="TOP_LEFT" maxWidth="900">
                    <padding>
                        <Insets top="30" right="30" bottom="30" left="30"/>
                    </padding>

                    <!-- Header del panel -->
                    <VBox spacing="6">
                        <Label text="Panel de administración" styleClass="home-heading"/>
                        <Label text="Gestiona usuarios, talleres y tickets desde un solo lugar."
                               styleClass="home-subheading" wrapText="true"/>
                    </VBox>

                    <!-- Scroll con tarjetas -->
                    <ScrollPane fitToWidth="true" fitToHeight="true"
                                hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                                style="-fx-background-color: transparent; -fx-background: transparent;">
                        <content>
                            <!-- Contenedor de tarjetas -->
                            <VBox fx:id="menuBox" spacing="18" alignment="TOP_CENTER"
                                  fillWidth="true" prefWidth="640" maxWidth="720">
                                <children>

                                    <!-- Tarjeta Usuarios -->
                                    <VBox spacing="10" styleClass="menu-card" maxWidth="Infinity">
                                        <children>
                                            <HBox spacing="14" alignment="CENTER_LEFT">
                                                <StackPane styleClass="menu-icon-circle">
                                                    <ImageView fitWidth="32" fitHeight="32" preserveRatio="true">
                                                        <image>
                                                            <Image url="@images/ic-users.png"/>
                                                        </image>
                                                    </ImageView>
                                                </StackPane>
                                                <VBox spacing="4">
                                                    <Label text="Gestión de usuarios" styleClass="menu-title"/>
                                                    <Label text="Crear, editar, activar/desactivar usuarios y asignar roles."
                                                           styleClass="menu-desc" wrapText="true"/>
                                                </VBox>
                                            </HBox>
                                            <Button text="Abrir" styleClass="primary-btn menu-btn"
                                                    maxWidth="160" onAction="#goUsers"/>
                                        </children>
                                    </VBox>

                                    <!-- Tarjeta Talleres -->
                                    <VBox spacing="10" styleClass="menu-card" maxWidth="Infinity">
                                        <children>
                                            <HBox spacing="14" alignment="CENTER_LEFT">
                                                <StackPane styleClass="menu-icon-circle">
                                                    <ImageView fitWidth="32" fitHeight="32" preserveRatio="true">
                                                        <image>
                                                            <Image url="@images/ic-workshop.png"/>
                                                        </image>
                                                    </ImageView>
                                                </StackPane>
                                                <VBox spacing="4">
                                                    <Label text="Gestión de talleres mecánicos" styleClass="menu-title"/>
                                                    <Label text="Alta de talleres, servicios, marcas y estados operativos."
                                                           styleClass="menu-desc" wrapText="true"/>
                                                </VBox>
                                            </HBox>
                                            <Button text="Abrir" styleClass="primary-btn menu-btn"
                                                    maxWidth="160" onAction="#goWorkshops"/>
                                        </children>
                                    </VBox>

                                    <!-- Tarjeta Tickets -->
                                    <VBox spacing="10" styleClass="menu-card" maxWidth="Infinity">
                                        <children>
                                            <HBox spacing="14" alignment="CENTER_LEFT">
                                                <StackPane styleClass="menu-icon-circle">
                                                    <ImageView fitWidth="32" fitHeight="32" preserveRatio="true">
                                                        <image>
                                                            <Image url="@images/ic-tickets.png"/>
                                                        </image>
                                                    </ImageView>
                                                </StackPane>
                                                <VBox spacing="4">
                                                    <Label text="Gestión de tickets" styleClass="menu-title"/>
                                                    <Label text="Recepción, priorización, asignación y seguimiento de tickets."
                                                           styleClass="menu-desc" wrapText="true"/>
                                                </VBox>
                                            </HBox>
                                            <Button text="Abrir" styleClass="primary-btn menu-btn"
                                                    maxWidth="160" onAction="#goTickets"/>
                                        </children>
                                    </VBox>

                                </children>
                            </VBox>
                        </content>
                    </ScrollPane>
                </VBox>
            </children>
        </StackPane>

        <!-- PANEL DERECHO: branding / sesión -->
        <StackPane styleClass="home-right">
            <children>
                <VBox spacing="18" alignment="CENTER">
                    <padding>
                        <Insets top="40" right="30" bottom="40" left="30"/>
                    </padding>

                    <ImageView fitWidth="260" preserveRatio="true" smooth="true" cache="true">
                        <image>
                            <Image url="@images/fixspot-logo.png"/>
                        </image>
                    </ImageView>

                    <Label text="Fixspot Administración" styleClass="brand-title"/>

                    <Label text="Monitorea talleres, administra usuarios y controla tickets en tiempo real."
                           styleClass="brand-sub" wrapText="true" maxWidth="360"/>

                    <Separator maxWidth="320"/>

                    <Label fx:id="lblUser" text="Sesión activa: admin"
                           styleClass="brand-meta" wrapText="true"/>

                    <Button text="Cerrar sesión" onAction="#onLogout" styleClass="ghost-btn"/>
                </VBox>
            </children>
        </StackPane>
    </items>

</SplitPane>
